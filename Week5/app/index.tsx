import "./global.css";
import React ,{useState} from "react";
import {
  View,
  Text,
  ScrollView,
  KeyboardAvoidingView,
  Platform,
  Alert,
  TouchableWithoutFeedback,
  Keyboard,
}from "react-native";
import CustomButton from "../component/CustomButton";
import CustomInput from "../component/CustomInput" ;
import { requireNativeModule } from "expo";

//‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•form
interface FormData{
  fullName:string;
  email:string;
  phone:string;
  password:string;
  confirmPassword:string;
}
//‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏¢error
interface FormError{
  fullName?:string;
  email?:string;
  phone?:string;
  password?:string;
  confirmPassword?:string;
}



export default function Index(){
  //state ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏¢‡πÄ‡∏Å‡πâ‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• form
  const [formData,setFormData] = useState<FormData>({
    fullName: "",
    email: "",
    phone: "",
    password: "",
    confirmPassword:"",
  });
  //üìå{} ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÄ‡πÄ‡∏•‡πâ‡∏ß /üìå‡∏°‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ/üìåusestate ‡∏£‡∏≠‡πÄ‡πÄ‡∏Ñ‡πàset‡∏Ñ‡πà‡∏≤
  //‡πÄ‡∏ä‡πà‡∏ô const box ={}; ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ ‡∏£‡∏≠‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 
  {/*‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏∏‡∏•‡∏Å‡πá‡∏ï‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ 
    ‚úèÔ∏èsetError({
     email:"‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏∏‡∏Å‡∏ï‡πâ‡∏≠‡∏á"
     password: "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"    
    });
    ‚úèÔ∏è‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏à‡∏∞‡∏°‡∏µ
    errors.email 
    erros.password  */}
    //‚úèÔ∏è ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ error ‚Üí errors ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ error ‚Üí errors = {}
  const [errors,setErrors] = useState<FormError>({});
  
  //State ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πä‡∏Ñ‡∏ß‡πà‡∏≤ field‡πÑ‡∏´‡∏ô‡∏ñ‡∏π‡∏Åtouch ‡πÄ‡πÄ‡∏•‡πâ‡∏ß
  //touched ‡πÄ‡∏Å‡πâ‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ,setTouched ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ 
  {/* ‚úèÔ∏è{ [key: string]: boolean } ‡πÄ‡∏õ‡πá‡∏ôobject‡πÄ‡πÄ‡∏ö‡∏ödynamic key 
    key = ‡∏ä‡∏∑‡πà‡∏≠ field (string)
    boolean
    true ‚Üí ‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÅ‡∏ï‡∏∞‡πÅ‡∏•‡πâ‡∏ß
    false / undefined ‚Üí ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞
    ‚úèÔ∏è‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ UX ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ñ‡∏∑‡∏≠
    ‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞ ‚Üí ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏ä‡∏ß‡πå error
    ‚úÖ ‡πÅ‡∏ï‡∏∞‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡∏Ñ‡πà‡∏≠‡∏¢‡πÇ‡∏ä‡∏ß‡πå error
    */}  
  const [touched,setTouched] = useState<{ [key:string] : boolean }>({});
  //State loading
  //isLoading = true ‚Üí ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° / ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API)
  //isLoading = false ‚Üí ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à / ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°
  const [isLoading,setIsLoading] = useState(false);

  //‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡πà‡∏ô Validation ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏öfield ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  const validation = (name:string,value:string): string | undefined => {
    switch(name) {
       //üìåvalue.trim()=‡∏ï‡∏±‡∏î‡∏´‡∏±‡∏ß-‡∏ó‡πâ‡∏≤‡∏¢
      case "fullName":
        if(!value.trim()){
          return "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•";
        }
        if (value.trim().length < 3){
          return "‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 3 ‡∏≠‡∏±‡∏Å‡∏©‡∏£";
        }
        return undefined;
       //üìåvalue.trim()=‡∏ï‡∏±‡∏î‡∏´‡∏±‡∏ß-‡∏ó‡πâ‡∏≤‡∏¢
       //‚úèÔ∏è ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á > return "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•"
       //‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ > ‡∏ú‡πà‡∏≤‡∏ô  
      case "email":
        if(!value.trim()){
          return "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•";
        }
        //‚úèÔ∏è‡∏ñ‡πâ‡∏≤>‡∏ú‡πà‡∏≤‡∏ô ‡πÄ‡∏ä‡πä‡∏Ñ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ

        //validation patterns ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏•‡∏¢ ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢
        {/* üìåemailRegex ‡∏Å‡∏è‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡πä‡∏Ñ‡∏≠‡∏µ‡πÄ‡∏°‡∏•
          ‚úèÔ∏è‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô return ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
          ‚úèÔ∏è‡∏ñ‡πâ‡∏≤‡∏ú‡πà‡∏≤‡∏ô return underfind ‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µerror  */}
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@+$/]+$/;
        if (!emailRegex.test(value)){
          return "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
        }
        return undefined;
      case "phon":
        if(!value.trim()){
          return "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå";
        }
        const phoneRegex = /^[0-9]{10}$/;
        if (!phoneRegex.test(value)){
          return "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 10 ‡∏´‡∏•‡∏±‡∏Å";
        }
        return undefined;
       //üìå ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏•‡∏∞‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡∏ï‡πà‡∏≠‡πÜ‡∏Å‡∏±‡∏ô‡πÑ‡∏õ
      case "password":
        if(!value.trim()){
          return "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô";
        }
        const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z]{8,}$/;
        if (!passwordRegex.test(value)){
          return "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£";
        }
        return undefined;
         {/*‚úèÔ∏è‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏Å ‡∏à‡∏∞‡πÄ‡πÄ‡∏à‡πâ‡∏á ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å
            ‚úèÔ∏è‡∏ñ‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡πÄ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‡πÄ‡πÄ‡∏à‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á
            ‚úèÔ∏è‡∏ñ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ undefind not error */}
          //‚ùó!== ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ ‚Äú‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î‚Äù > ‡∏Ñ‡πà‡∏≤ ‡πÅ‡∏•‡∏∞ ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô
      case "confirmOassword":
        if (!value){
          return "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô";
        }
        if(value !== formData.password){
          return "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
        }
        return undefined;
      default:
         return undefined;
    }
  };

























};